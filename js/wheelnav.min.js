function setRaphaelCustomAttributes(n){n.customAttributes.slicePathFunction=function(n){return{slicePathFunction:n}};n.customAttributes.currentTransform=function(n){return{currentTransform:n}};n.customAttributes.slicePercentPath=function(n,t,i,r,u,f,e){var o=this.attr("slicePathFunction"),s=o(n,t,i,r,u,f,e).slicePathString;return{path:s}};n.customAttributes.linePercentPath=function(n,t,i,r,u,f,e){var o=this.attr("slicePathFunction"),s=o(n,t,i,r,u,f,e).linePathString;return{path:s}};n.customAttributes.titlePercentPos=function(n,t,i,r,u,f,e,o,s){var l=this.attr("slicePathFunction"),a=this.attr("currentTransform"),h=l(n,t,i,r,u,o,s),c="t,-"+f+",-"+e;return c+=",t,"+h.titlePosX+","+h.titlePosY+a,{transform:c}}}wheelnav=function(n){this.holderId=n;this.raphael=Raphael(n);setRaphaelCustomAttributes(this.raphael);this.currentRotate=0;this.currentClick=0;var t=this.raphael.canvas.getAttribute("width");return this.centerX=t/2,this.centerY=t/2,this.navWheelSugar=.95*t/2,this.baseAngle=0,this.sliceAngle=0,this.colors=colorpalette.defaultpalette,this.animateeffect="bounce",this.animatetime=1500,this.navItemCount=0,this.navItems=[],this.slicePath=slicePath().defaultPie,this};wheelnavItem=function(n,t){return this.animateeffect="bounce",this.animatetime=1e3,this.fillAttr={fill:"#CCC"},this.slicePathAttr={stroke:"#111","stroke-width":3,cursor:"pointer"},this.sliceHoverAttr={fill:"#EEE"},this.linePathAttr={stroke:"#111","stroke-width":2},this.title=t,this.titleAttr={font:"100 24px Impact, Charcoal, sans-serif",fill:"#111",cursor:"pointer",stroke:"none"},this.titleSelectedAttr={font:"100 24px Impact, Charcoal, sans-serif",fill:"#FFF",cursor:"pointer"},this.titlePosX=0,this.titlePosY=0,this.getSlicePath=n,this};wheelnav.prototype.initWheel=function(n){var r,t;if(this.navItemCount==0)for(n!=null||Array.isArray(n)||(n=["title-0","title-1","title-2","title-3"]),i=0;i<n.length;i++)r=new wheelnavItem(this.slicePath,n[i]),this.navItems.push(r);else for(i=0;i<this.navItemCount;i++)r=new wheelnavItem(this.slicePath,""),this.navItems.push(r);for(t=0,i=0;i<this.navItems.length;i++)this.navItems[i].fillAttr={fill:this.colors[t]},t++,t==this.colors.length&&(t=0)};wheelnav.prototype.createWheel=function(n){for(this.navItems.length==0&&this.initWheel(n),this.navItemCount=this.navItems.length,this.sliceAngle=360/this.navItemCount,this.baseAngle==0&&(this.baseAngle=-(360/this.navItemCount)/2),i=0;i<this.navItemCount;i++)this.createNavItem(i);return this};wheelnav.prototype.createNavItem=function(n){var t=this.navItems[n],e=t.getSlicePath(this.centerX,this.centerY,this.navWheelSugar,this.baseAngle,this.sliceAngle,n,1),r,i,c,s,u,o;if(t.titlePosX=e.titlePosX,t.titlePosY=e.titlePosY,r=this.raphael.path(e.slicePathString),r.attr(t.slicePathAttr),r.attr(t.fillAttr),r.id=this.getSliceId(n),r.node.id=r.id,t.title.substr(0,1)=="M"&&t.title.substr(t.title.length-1,1)=="z"){var f=this.raphael.raphael.pathToRelative(t.title),l=f[0][1],a=f[0][2],h=this.raphael.raphael.pathBBox(f),v=t.titlePosX+(l-h.cx),y=t.titlePosY+(a-h.cy);f[0]="M,"+v+","+y;i=this.raphael.path(f).attr(t.titleAttr)}else i=this.raphael.text(t.titlePosX,t.titlePosY,t.title).attr(t.titleAttr);i.id=this.getTitleId(n);i.node.id=i.id;this.raphael.getById(this.getTitleId(0)).attr(t.titleSelectedAttr);c=this.raphael.path(e.linePathString).attr(t.linePathAttr).toBack();c.id=this.getTitleBaseLineId(n);s="r,0,"+this.centerX+","+this.centerY+",r,0";i.attr({currentTransform:s});i.attr({transform:s});u=this.raphael.set();u.push(r,i);u.id=this.getItemId(n);o=this;u.click(function(){o.rotateWheel(n)});u.mouseover(function(){o.hoverEffect(n,!0)});u.mouseout(function(){o.hoverEffect(n,!1)})};wheelnav.prototype.rotateWheel=function(n){var e,r,f;for(this.currentRotate-=(n-this.currentClick)*(360/this.navItemCount),i=0;i<this.navItemCount;i++){var t=this.navItems[i],u="r,"+this.currentRotate+","+this.centerX+","+this.centerY,o=this.raphael.getById(this.getSliceId(i));o.animate({transform:[u]},t.animatetime,t.animateeffect);e=this.raphael.getById(this.getTitleBaseLineId(i));e.animate({transform:[u]},t.animatetime,t.animateeffect);r=this.raphael.getById(this.getTitleId(i));f=u+",r"+(-this.currentRotate).toString();r.attr({currentTransform:f});r.animate({transform:[f]},t.animatetime,t.animateeffect);this.raphael.getById(this.getTitleId(i)).attr(this.navItems[i].titleAttr);r.toFront()}this.raphael.getById(this.getSliceId(n)).attr({fill:this.navItems[n].fillColor});this.raphael.getById(this.getTitleId(n)).attr(this.navItems[n].titleSelectedAttr);this.currentClick=n};wheelnav.prototype.spreadWheel=function(n,t){var h,c,s,o,u,f;for(i=0;i<this.navItemCount;i++){var l=this,r=this.navItems[i],e=i-this.currentClick;e<0&&(e+=this.navItemCount);h=this.raphael.getById(this.getSliceId(i));h.attr({slicePathFunction:r.getSlicePath});h.attr({slicePercentPath:[this.centerX,this.centerY,this.navWheelSugar,this.baseAngle,this.sliceAngle,i,n]}).animate({slicePercentPath:[this.centerX,this.centerY,this.navWheelSugar,this.baseAngle,this.sliceAngle,i,t]},r.animatetime,r.animateeffect);c=this.raphael.getById(this.getTitleBaseLineId(i));c.attr({slicePathFunction:r.getSlicePath});c.attr({linePercentPath:[this.centerX,this.centerY,this.navWheelSugar,this.baseAngle,this.sliceAngle,i,n]}).animate({linePercentPath:[this.centerX,this.centerY,this.navWheelSugar,this.baseAngle,this.sliceAngle,i,t]},r.animatetime,r.animateeffect);s=this.raphael.getById(this.getTitleId(i));o=this.navItems[e];s.attr({slicePathFunction:r.getSlicePath});s.attr({titlePercentPos:[this.centerX,this.centerY,this.navWheelSugar,this.baseAngle,this.sliceAngle,o.titlePosX,o.titlePosY,e,n]});s.animate({titlePercentPos:[this.centerX,this.centerY,this.navWheelSugar,this.baseAngle,this.sliceAngle,o.titlePosX,o.titlePosY,e,t]},r.animatetime,r.animateeffect,function(){if(t>n){var i=this.attr("currentTransform");this.attr({transform:i})}})}return u=this.raphael.getById(this.getSpreadOnId()),u||(spreadCircle=this.raphael.circle(this.centerX,this.centerY,15).attr({fill:"#777","stroke-width":3}),spreadCircle.id="spreadcircle",u=this.raphael.text(this.centerX,this.centerY,"+").attr(r.titleSelectedAttr),u.attr({transform:"s1.5"}),u.id=this.getSpreadOnId(),u.click(function(){l.spreadWheel(n,t)})),f=this.raphael.getById(this.getSpreadOffId()),f||(f=this.raphael.text(this.centerX,this.centerY-2,"-").attr(r.titleSelectedAttr),f.attr({transform:"s1.5"}),f.id=this.getSpreadOffId(),f.click(function(){l.spreadWheel(t,n)})),this.raphael.getById("spreadcircle").toFront(),t>n?(f.toFront(),u.toBack()):(f.toBack(),u.toFront()),this};wheelnav.prototype.hoverEffect=function(n,t){for(i=0;i<this.navItemCount;i++){var r=this.raphael.getById(this.getSliceId(i));t&&i==n&&i!=this.currentClick?r.attr(this.navItems[i].sliceHoverAttr):(r.attr(this.navItems[i].slicePathAttr),r.attr(this.navItems[i].fillAttr))}};wheelnav.prototype.getItemId=function(n){return"wheelnav-"+this.holderId+"-item-"+n};wheelnav.prototype.getSliceId=function(n){return"wheelnav-"+this.holderId+"-slice-"+n};wheelnav.prototype.getTitleId=function(n){return"wheelnav-"+this.holderId+"-title-"+n};wheelnav.prototype.getTitleBaseLineId=function(n){return"wheelnav-"+this.holderId+"-titlebaseline-"+n};wheelnav.prototype.getTitleBaseLineHideId=function(n){return"wheelnav-"+this.holderId+"-titlebaselinehide-"+n};wheelnav.prototype.getSpreadOnId=function(){return"wheelnav-"+this.holderId+"-spreadon"};wheelnav.prototype.getSpreadOffId=function(){return"wheelnav-"+this.holderId+"-spreadoff"};var slicePath=function(){this.startAngle=0;this.startTheta=0;this.middleTheta=0;this.endTheta=0;this.titlePosX=0;this.titlePosY=0;this.titleSugar=0;this.titleBaseLinePath="";this.r=0;var t=function(t,u,f,e,o,s,h){this.r=f*h;this.startAngle=s*o+e;this.startTheta=n(startAngle);this.middleTheta=n(startAngle+o/2);this.endTheta=n(startAngle+o);this.titleSugar=r*.5;i(t,u)},i=function(n,t){this.titlePosX=titleSugar*Math.cos(middleTheta)+n;this.titlePosY=titleSugar*Math.sin(middleTheta)+t},n=function(n){return n%360*Math.PI/180};return this.nullSlice=function(n,i,r,u,f,e,o){return t(n,i,r,u,f,e,o),{slicePathString:"",linePathString:"",titlePosX:titlePosX,titlePosY:titlePosY}},this.defaultPie=function(n,i,u,f,e,o,s){return t(n,i,u,f,e,o,s),slicePathString=[["M",n,i],["L",r*Math.cos(startTheta)+n,r*Math.sin(startTheta)+i],["A",r,r,0,0,1,r*Math.cos(endTheta)+n,r*Math.sin(endTheta)+i],["z"]],{slicePathString:slicePathString,linePathString:"",titlePosX:titlePosX,titlePosY:titlePosY}},this.defaultStar=function(n,u,f,e,o,s,h){return t(n,u,f,e,o,s,h),rbase=r*.5,slicePathString=[["M",n,u],["L",rbase*Math.cos(startTheta)+n,rbase*Math.sin(startTheta)+u],["L",r*Math.cos(middleTheta)+n,r*Math.sin(middleTheta)+u],["L",rbase*Math.cos(endTheta)+n,rbase*Math.sin(endTheta)+u],["z"]],titleSugar=r*.44,i(n,u),{slicePathString:slicePathString,linePathString:"",titlePosX:titlePosX,titlePosY:titlePosY}},this.defaultStarSpread=function(n,u,f,e,o,s,h){return t(n,u,f,e,o,s,h),rbase=f*.5,slicePathString=h>.1?[["M",n,u],["L",rbase*Math.cos(startTheta)+n,rbase*Math.sin(startTheta)+u],["L",r*Math.cos(middleTheta)+n,r*Math.sin(middleTheta)+u],["L",rbase*Math.cos(endTheta)+n,rbase*Math.sin(endTheta)+u],["z"]]:[["M",n,u]],titleSugar=r*.44,i(n,u),{slicePathString:slicePathString,linePathString:"",titlePosX:titlePosX,titlePosY:titlePosY}},this.defaultCog=function(u,f,e,o,s,h,c){return t(u,f,e,o,s,h,c),rbase=r*.95,theta1=n(startAngle+s*.0625),theta2=n(startAngle+s*.1875),theta3=n(startAngle+s*.3125),theta4=n(startAngle+s*.4375),theta5=n(startAngle+s*.5625),theta6=n(startAngle+s*.6875),theta7=n(startAngle+s*.8125),theta8=n(startAngle+s*.9375),slicePathString=[["M",u,f],["L",r*Math.cos(startTheta)+u,r*Math.sin(startTheta)+f],["A",r,r,0,0,1,r*Math.cos(theta1)+u,r*Math.sin(theta1)+f],["L",rbase*Math.cos(theta1)+u,rbase*Math.sin(theta1)+f],["A",rbase,rbase,0,0,1,rbase*Math.cos(theta2)+u,rbase*Math.sin(theta2)+f],["L",r*Math.cos(theta2)+u,r*Math.sin(theta2)+f],["A",r,r,0,0,1,r*Math.cos(theta3)+u,r*Math.sin(theta3)+f],["L",rbase*Math.cos(theta3)+u,rbase*Math.sin(theta3)+f],["A",rbase,rbase,0,0,1,rbase*Math.cos(theta4)+u,rbase*Math.sin(theta4)+f],["L",r*Math.cos(theta4)+u,r*Math.sin(theta4)+f],["A",r,r,0,0,1,r*Math.cos(theta5)+u,r*Math.sin(theta5)+f],["L",rbase*Math.cos(theta5)+u,rbase*Math.sin(theta5)+f],["A",rbase,rbase,0,0,1,rbase*Math.cos(theta6)+u,rbase*Math.sin(theta6)+f],["L",r*Math.cos(theta6)+u,r*Math.sin(theta6)+f],["A",r,r,0,0,1,r*Math.cos(theta7)+u,r*Math.sin(theta7)+f],["L",rbase*Math.cos(theta7)+u,rbase*Math.sin(theta7)+f],["A",rbase,rbase,0,0,1,rbase*Math.cos(theta8)+u,rbase*Math.sin(theta8)+f],["L",r*Math.cos(theta8)+u,r*Math.sin(theta8)+f],["A",r,r,0,0,1,r*Math.cos(endTheta)+u,r*Math.sin(endTheta)+f],["z"]],titleSugar=r*.55,i(u,f),{slicePathString:slicePathString,linePathString:"",titlePosX:titlePosX,titlePosY:titlePosY}},this.defaultMenu=function(n,u,f,e,o,s,h){t(n,u,f,e,o,s,h);titleSugar=r*.63;i(n,u);var c=25;return h*f<25&&(c=h*f),slicePathString=[["M",titlePosX,titlePosY],["m",-c,0],["a",c,c,0,1,0,2*c,0],["a",c,c,0,1,0,-2*c,0],["z"]],linePathString=[["M",n,u],["L",titlePosX,titlePosY],["z"]],{slicePathString:slicePathString,linePathString:linePathString,titlePosX:titlePosX,titlePosY:titlePosY}},this},colorpalette={defaultpalette:["#2ECC40","#FFDC00","#FF851B","#FF4136","#0074D9","#777"],purple:["#4F346B","#623491","#9657D6","#AD74E7","#CBA3F3"],greenred:["#17B92A","#FF3D00","#17B92A","#FF3D00","#17B92A"],oceanfive:["#00A0B0","#6A4A3C","#CC333F","#EB6841","#EDC951"],garden:["#648A4F","#2B2B29","#DF6126","#FFA337","#F57C85"],gamebookers:["#FF9900","#E9E9E9","#BCBCBC","#3299BB","#424242"],parrot:["#D80351","#F5D908","#00A3EE","#929292","#3F3F3F"]};
/*
//# sourceMappingURL=wheelnav.min.js.map
*/