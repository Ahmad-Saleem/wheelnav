function setRaphaelCustomAttributes(n){n.customAttributes.alongPath=function(n){return{alongPath:n}};n.customAttributes.along=function(n,t,i){var r=this.attr("alongPath"),f=r.getTotalLength(),u=r.getPointAtLength(n*f);return{transform:"t"+(u.x-t).toString()+" "+(u.y-i).toString()}}}wheelnav=function(n){this.holderId=n;this.raphael=Raphael(n);setRaphaelCustomAttributes(this.raphael);this.currentRotate=0;this.currentClick=0;var t=this.raphael.canvas.getAttribute("width");return this.centerX=t/2,this.centerY=t/2,this.navWheelSugar=t/2,this.baseAngle=0,this.sliceAngle=0,this.colors=colorpalette.defaultpalette,this.animateeffect="bounce",this.animatetime=1500,this.navItemCount=0,this.navItems=[],this.slicePath=slicePath().defaultPie,this.showBaseLine=!1,this};wheelnavItem=function(n,t){return this.animateeffect="bounce",this.animatetime=1500,this.fillColor="#CCC",this.slicePathString="",this.slicePathAttr={stroke:"#111","stroke-width":3,cursor:"pointer"},this.sliceHoverAttr={fill:"#EEE"},this.title=t,this.titleAttr={font:"100 24px Impact, Charcoal, sans-serif",fill:"#111",cursor:"pointer",stroke:"none"},this.titleSelectedAttr={font:"100 24px Impact, Charcoal, sans-serif",fill:"#FFF",cursor:"pointer"},this.titlePosX=0,this.titlePosY=0,this.titleSugar=100,this.titleBaseLineAttr={stroke:"#111","stroke-width":2},this.getSlicePath=n,this};wheelnav.prototype.initNavItems=function(n){var r,t;if(this.navItemCount==0)for(n!=null||Array.isArray(n)||(n=["title-0","title-1","title-2","title-3"]),i=0;i<n.length;i++)r=new wheelnavItem(this.slicePath,n[i]),this.navItems.push(r);else for(i=0;i<this.navItemCount;i++)r=new wheelnavItem(this.slicePath,""),this.navItems.push(r);for(t=0,i=0;i<this.navItems.length;i++)this.navItems[i].fillColor=this.colors[t],t++,t==this.colors.length&&(t=0)};wheelnav.prototype.initWheel=function(n){for(this.navItems.length==0&&this.initNavItems(n),this.navItemCount=this.navItems.length,this.sliceAngle=360/this.navItemCount,this.baseAngle==0&&(this.baseAngle=-(360/this.navItemCount)/2),i=0;i<this.navItemCount;i++)this.createNavItem(i);return this};wheelnav.prototype.getItemId=function(n){return"wheelnav-"+this.holderId+"-item-"+n};wheelnav.prototype.getSliceId=function(n){return"wheelnav-"+this.holderId+"-slice-"+n};wheelnav.prototype.getTitleId=function(n){return"wheelnav-"+this.holderId+"-title-"+n};wheelnav.prototype.getTitleBaseLineId=function(n){return"wheelnav-"+this.holderId+"-titlebaseline-"+n};wheelnav.prototype.getTitleAlongLineId=function(n){return"wheelnav-"+this.holderId+"-titlealongline-"+n};wheelnav.prototype.createNavItem=function(n){var t=this.navItems[n],e=t.getSlicePath(this,n),i,r,h,o,l,u,s;if(t.slicePathString=e.slicePathString,t.titlePosX=e.titlePosX,t.titlePosY=e.titlePosY,t.titleSugar=e.titleSugar,i=this.raphael.path(t.slicePathString),i.attr(t.slicePathAttr),i.attr({fill:t.fillColor}),i.id=this.getSliceId(n),i.node.id=i.id,t.title.substr(0,1)=="M"&&t.title.substr(t.title.length-1,1)=="z"){var f=this.raphael.raphael.pathToRelative(t.title),a=f[0][1],v=f[0][2],c=this.raphael.raphael.pathBBox(f),y=this.centerX+(a-c.cx),p=this.centerY+(v-c.cy);f[0]="M,"+y+","+p;r=this.raphael.path(f).attr(t.titleAttr)}else r=this.raphael.text(this.centerX,this.centerY,t.title).attr(t.titleAttr);r.id=this.getTitleId(n);r.node.id=r.id;this.raphael.getById(this.getTitleId(0)).attr(t.titleSelectedAttr);h="M "+this.centerX+" "+this.centerY+" L "+t.titlePosX+" "+t.titlePosY+" ";o=this.raphael.path(h).attr(t.titleBaseLineAttr).toBack();o.id=this.getTitleBaseLineId(n);this.showBaseLine||o.hide();l=this.raphael.path(h).hide();l.id=this.getTitleAlongLineId(n);r.attr({alongPath:o,along:[0,this.centerX,this.centerY]}).animate({along:[1,this.centerX,this.centerY]},t.animatetime,t.animateeffect);u=this.raphael.set();u.push(i,r);u.id=this.getItemId(n);s=this;u.click(function(){s.navigateWheel(n)});u.mouseover(function(){s.hoverEffect(n,!0)});u.mouseout(function(){s.hoverEffect(n,!1)})};wheelnav.prototype.navigateWheel=function(n){var l,e,o,s;for(this.currentRotate-=(n-this.currentClick)*(360/this.navItemCount),i=0;i<this.navItemCount;i++){var r=this.navItems[i],h="r"+this.currentRotate+","+this.centerX+","+this.centerY,c=this.raphael.getById(this.getSliceId(i));c.animate({transform:[h]},r.animatetime,r.animateeffect);i==n&&c.toFront();l=this.raphael.getById(this.getTitleBaseLineId(i));l.animate({transform:[h]},r.animatetime,r.animateeffect);var u=i-this.currentClick,f=i-n,t=u;if(t<0&&(t+=this.navItemCount),e="M "+this.navItems[t].titlePosX+" "+this.navItems[t].titlePosY+" ",u>f)for(m=u-1;m>=f;m--)t--,t<0&&(t+=this.navItemCount),e+="A"+this.navItems[t].titleSugar+","+this.navItems[t].titleSugar+" 0 0,0 "+this.navItems[t].titlePosX+","+this.navItems[t].titlePosY;else if(u<f)for(m=u+1;m<=f;m++)t++,t>this.navItemCount-1&&(t-=this.navItemCount),e+="A"+this.navItems[t].titleSugar+","+this.navItems[t].titleSugar+" 0 0,1 "+this.navItems[t].titlePosX+","+this.navItems[t].titlePosY;o=this.raphael.getById(this.getTitleId(i));s=this.raphael.getById(this.getTitleAlongLineId(i));this.currentClick!=n&&(s.attr({path:e}),o.attr(r.titleAttr),o.attr({alongPath:s,along:[0,this.centerX,this.centerY]}).animate({along:[1,this.centerX,this.centerY]},r.animatetime,r.animateeffect));o.toFront()}this.raphael.getById(this.getSliceId(n)).attr({fill:this.navItems[n].fillColor});this.raphael.getById(this.getTitleId(n)).attr(this.navItems[n].titleSelectedAttr);this.currentClick=n};wheelnav.prototype.hoverEffect=function(n,t){for(i=0;i<this.navItemCount;i++){var r=this.raphael.getById(this.getSliceId(i));t&&i==n&&i!=this.currentClick?r.attr(this.navItems[i].sliceHoverAttr):(r.attr(this.navItems[i].slicePathAttr),r.attr({fill:this.navItems[i].fillColor}))}};var slicePath=function(){this.x=0;this.y=0;this.r=1;this.startAngle=0;this.startTheta=0;this.middleTheta=0;this.endTheta=0;this.titlePosX=0;this.titlePosY=0;this.titleSugar=100;var t=function(t,r){this.x=t.centerX;this.y=t.centerY;this.r=t.navWheelSugar*.95;this.startAngle=r*t.sliceAngle+t.baseAngle;this.startTheta=n(startAngle);this.middleTheta=n(startAngle+t.sliceAngle/2);this.endTheta=n(startAngle+t.sliceAngle);this.titleSugar=t.navWheelSugar*.5;i()},i=function(){this.titlePosX=this.titleSugar*Math.cos(this.middleTheta)+this.x;this.titlePosY=this.titleSugar*Math.sin(this.middleTheta)+this.y},n=function(n){return n%360*Math.PI/180};return this.nullSlice=function(n,i){return t(n,i),{slicePathString:"",titlePosX:titlePosX,titlePosY:titlePosY,titleSugar:titleSugar}},this.defaultPie=function(n,i){return t(n,i),slicePathString=[["M",x,y],["L",r*Math.cos(startTheta)+x,r*Math.sin(startTheta)+y],["A",r,r,0,0,1,r*Math.cos(endTheta)+x,r*Math.sin(endTheta)+y],["z"]],{slicePathString:slicePathString,titlePosX:titlePosX,titlePosY:titlePosY,titleSugar:titleSugar}},this.defaultStar=function(n,u){return t(n,u),rbase=r*.5,slicePathString=[["M",x,y],["L",rbase*Math.cos(startTheta)+x,rbase*Math.sin(startTheta)+y],["L",r*Math.cos(middleTheta)+x,r*Math.sin(middleTheta)+y],["L",rbase*Math.cos(endTheta)+x,rbase*Math.sin(endTheta)+y],["z"]],titleSugar=n.navWheelSugar*.44,i(),{slicePathString:slicePathString,titlePosX:titlePosX,titlePosY:titlePosY,titleSugar:titleSugar}},this.defaultCog=function(u,f){return t(u,f),rbase=r*.9,theta1=n(startAngle+u.sliceAngle*.0625),theta2=n(startAngle+u.sliceAngle*.1875),theta3=n(startAngle+u.sliceAngle*.3125),theta4=n(startAngle+u.sliceAngle*.4375),theta5=n(startAngle+u.sliceAngle*.5625),theta6=n(startAngle+u.sliceAngle*.6875),theta7=n(startAngle+u.sliceAngle*.8125),theta8=n(startAngle+u.sliceAngle*.9375),slicePathString=[["M",x,y],["L",r*Math.cos(startTheta)+x,r*Math.sin(startTheta)+y],["A",r,r,0,0,1,r*Math.cos(theta1)+x,r*Math.sin(theta1)+y],["L",rbase*Math.cos(theta1)+x,rbase*Math.sin(theta1)+y],["A",rbase,rbase,0,0,1,rbase*Math.cos(theta2)+x,rbase*Math.sin(theta2)+y],["L",r*Math.cos(theta2)+x,r*Math.sin(theta2)+y],["A",r,r,0,0,1,r*Math.cos(theta3)+x,r*Math.sin(theta3)+y],["L",rbase*Math.cos(theta3)+x,rbase*Math.sin(theta3)+y],["A",rbase,rbase,0,0,1,rbase*Math.cos(theta4)+x,rbase*Math.sin(theta4)+y],["L",r*Math.cos(theta4)+x,r*Math.sin(theta4)+y],["A",r,r,0,0,1,r*Math.cos(theta5)+x,r*Math.sin(theta5)+y],["L",rbase*Math.cos(theta5)+x,rbase*Math.sin(theta5)+y],["A",rbase,rbase,0,0,1,rbase*Math.cos(theta6)+x,rbase*Math.sin(theta6)+y],["L",r*Math.cos(theta6)+x,r*Math.sin(theta6)+y],["A",r,r,0,0,1,r*Math.cos(theta7)+x,r*Math.sin(theta7)+y],["L",rbase*Math.cos(theta7)+x,rbase*Math.sin(theta7)+y],["A",rbase,rbase,0,0,1,rbase*Math.cos(theta8)+x,rbase*Math.sin(theta8)+y],["L",r*Math.cos(theta8)+x,r*Math.sin(theta8)+y],["A",r,r,0,0,1,r*Math.cos(endTheta)+x,r*Math.sin(endTheta)+y],["z"]],titleSugar=u.navWheelSugar*.55,i(),{slicePathString:slicePathString,titlePosX:titlePosX,titlePosY:titlePosY,titleSugar:titleSugar}},this.defaultMenu=function(n,r){return t(n,r),titleSugar=n.navWheelSugar*.63,i(),slicePathString=[["M",titlePosX,titlePosY],["m",-25,0],["a",25,25,0,1,0,50,0],["a",25,25,0,1,0,-50,0],["z"]],{slicePathString:slicePathString,titlePosX:titlePosX,titlePosY:titlePosY,titleSugar:titleSugar}},this},colorpalette={defaultpalette:["#2ECC40","#FFDC00","#FF851B","#FF4136","#0074D9","#777"],purple:["#4F346B","#623491","#9657D6","#AD74E7","#CBA3F3"],greenred:["#17B92A","#FF3D00","#17B92A","#FF3D00","#17B92A"],oceanfive:["#00A0B0","#6A4A3C","#CC333F","#EB6841","#EDC951"],garden:["#648A4F","#2B2B29","#DF6126","#FFA337","#F57C85"],gamebookers:["#FF9900","#E9E9E9","#BCBCBC","#3299BB","#424242"],parrot:["#D80351","#F5D908","#00A3EE","#929292","#3F3F3F"]};
/*
//# sourceMappingURL=wheelnav.min.js.map
*/