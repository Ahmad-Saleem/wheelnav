function setRaphaelCustomAttributes(n){n.customAttributes.guide=function(n){return{guide:n}};n.customAttributes.along=function(n,t){var i=this.attr("guide"),u=i.getTotalLength(),r=i.getPointAtLength(n*u);return{transform:"t"+(r.x-t).toString()+" "+(r.y-t).toString()}}}wheelnav=function(n){this.holderId=n;this.raphael=Raphael(n);setRaphaelCustomAttributes(this.raphael);this.currentRotate=0;this.currentClick=0;var t=this.raphael.canvas.getAttribute("width");return this.centerX=t/2,this.centerY=t/2,this.navWheelSugar=t/2,this.baseAngle=0,this.sliceAngle=90,this.colors=colorpalette.defaultpalette,this.hovercolor="#EEE",this.animateeffect="bounce",this.animatetime=1500,this.navItemCount=0,this.slices=[],this.slicePath=slicePath().fullPie,this};wheelnavSlice=function(n){return this.hovercolor="#EEE",this.animateeffect="bounce",this.animatetime=1500,this.getSlicePath=n,this};wheelnav.prototype.initWheel=function(n){var r,t;for(n!=null||Array.isArray(n)||(n=["title1","title2","title3","title4"]),r=new wheelnavSlice(this.slicePath),i=0;i<n.length;i++)this.navItemCount++,this.slices.push(r);for(this.baseAngle=-(360/this.navItemCount)/2,this.sliceAngle=360/this.navItemCount,t=0,i=0;i<this.navItemCount;i++)setWheelSlice(this,i,t),setWheelTitle(this,i,n[i]),t+=this.sliceAngle;return this};wheelnav.prototype.getSliceId=function(n){return this.holderId+"-slice-"+n};wheelnav.prototype.getTitleId=function(n){return this.holderId+"-title-"+n};var setWheelSlice=function(n,t,i){var r=n.slices[t].getSlicePath(n,t,i);r.id=n.getSliceId(t);r.node.id=r.id;r.click(function(){navigateWheel(n,t)});r.mouseover(function(){hoverEffect(n,t,!0)});r.mouseout(function(){hoverEffect(n,t,!1)})},setWheelTitle=function(n,t,i){var r,f,e,o;if(i.substr(0,1)=="M"&&i.substr(i.length-1,1)=="z"){var u=n.raphael.raphael.pathToRelative(i),h=u[0][1],c=u[0][2],s=n.raphael.raphael.pathBBox(u),l=n.navWheelSugar+(h-s.cx),a=n.navWheelSugar+(c-s.cy);u[0]="M,"+l+","+a;r=n.raphael.path(u).attr({fill:"#000",stroke:"none",transform:"s2"})}else r=n.raphael.text(0,0,i),r.attr({font:"100 24px Impact, Charcoal, sans-serif",fill:"#111"});r.id=n.getTitleId(t);r.node.id=r.id;r.mousedown(function(){navigateWheel(n,t)});r.mouseover(function(){hoverEffect(n,t,!0)});r.mouseout(function(){hoverEffect(n,t,!1)});f=n.raphael.getById(n.getSliceId(t));e="M "+n.centerX+" "+n.centerY+" ";e+="L "+f.getBBox().cx+" "+f.getBBox().cy+" ";o=n.raphael.path(e).hide();o.id="titleAlong"+t;r.attr({x:n.navWheelSugar,y:n.navWheelSugar});r.attr({guide:o,along:[0,n.navWheelSugar],cursor:"pointer"}).animate({along:[1,n.navWheelSugar]},n.animatetime,n.animateeffect)},hoverEffect=function(n,t,r){for(i=0;i<n.navItemCount;i++){var u=n.raphael.getById(n.getSliceId(i));r&&i==t&&i!=n.currentClick?u.attr({fill:n.hovercolor}):u.attr({fill:n.colors[i]})}},navigateWheel=function(n,t){var c,o,e,h;for(n.currentRotate-=(t-n.currentClick)*(360/n.navItemCount),i=0;i<n.navItemCount;i++){c="r"+n.currentRotate+","+n.centerX+","+n.centerY+"s1";o=n.raphael.getById(n.getSliceId(i));o.animate({transform:[c]},n.slices[i].animatetime,n.slices[i].animateeffect);i==t&&o.toFront();var u=i-n.currentClick,f=i-t,r=i,l=n.raphael.getById(n.getSliceId(i)),s="M "+l.getBBox().cx+" "+l.getBBox().cy+" ",a=function(t){var i=n.raphael.getById(n.getSliceId(t));return"L "+i.getBBox().cx+" "+i.getBBox().cy+" "};if(u>f)for(m=u-1;m>=f;m--)r--,r<0&&(r+=n.navItemCount),s+=a(r);else if(u<f)for(m=u+1;m<=f;m++)r++,r>n.navItemCount-1&&(r-=n.navItemCount),s+=a(r);e=n.raphael.getById(n.getTitleId(i));h=n.raphael.getById("titleAlong"+i);n.currentClick!=t&&(h.attr({path:s}),e.attr({fill:"#111"}),e.attr({guide:h,along:[0,n.navWheelSugar]}).animate({along:[1,n.navWheelSugar]},n.animatetime,n.animateeffect));e.toFront()}n.raphael.getById(n.getSliceId(t)).attr({fill:n.colors[t]});n.raphael.getById(n.getTitleId(t)).attr({fill:"#FFF"});n.currentClick=t},slicePath=function(){return this.fullPie=function(n,t,i){var u=n.centerX,f=n.centerY,r=n.navWheelSugar*.95,e=(i+n.baseAngle)%360*Math.PI/180,o=(i+n.baseAngle+n.sliceAngle)%360*Math.PI/180;return pathString=[["M",u,f],["l",r*Math.cos(e),r*Math.sin(e)],["A",r,r,0,0,1,u+r*Math.cos(o),f+r*Math.sin(o)],["z"]],attr={fill:n.colors[t],stroke:"#111","stroke-width":3,cursor:"pointer"},n.raphael.path(pathString).attr(attr)},this.halfPie=function(n,t,i){var u=n.centerX,f=n.centerY,r=n.navWheelSugar*.75,e=(i+n.baseAngle+5)%360*Math.PI/180,o=(i+n.baseAngle+n.sliceAngle-5)%360*Math.PI/180;return pathString=[["M",u,f],["l",r*Math.cos(e),r*Math.sin(e)],["A",r,r,0,0,1,u+r*Math.cos(o),f+r*Math.sin(o)],["z"]],attr={fill:n.colors[t],stroke:"#111","stroke-width":5,cursor:"pointer"},n.raphael.path(pathString).attr(attr)},this},colorpalette={defaultpalette:["#2ECC40","#FFDC00","#FF851B","#FF4136","#0074D9"],purple:["#4F346B","#623491","#9657D6","#AD74E7","#CBA3F3"],greenred:["#17B92A","#FF3D00","#17B92A","#FF3D00","#17B92A"],oceanfive:["#00A0B0","#6A4A3C","#CC333F","#EB6841","#EDC951"],garden:["#648A4F","#2B2B29","#DF6126","#FFA337","#F57C85"],gamebookers:["#FF9900","#E9E9E9","#BCBCBC","#3299BB","#424242"],parrot:["#D80351","#F5D908","#00A3EE","#929292","#3F3F3F"]};
/*
//# sourceMappingURL=wheelnav.min.js.map
*/